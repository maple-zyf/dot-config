var ChangePasswordDialog=function(a){VaultItemSelectDialog.call(this,a,{title:Strings.translateString("Change Password"),nextButtonText:Strings.translateString("Change")})};ChangePasswordDialog.prototype=Object.create(VaultItemSelectDialog.prototype);ChangePasswordDialog.prototype.constructor=ChangePasswordDialog;
(function(){ChangePasswordDialog.prototype.open=function(a){a=a||{};if(!a.hasOwnProperty("items")){for(var f={},c=a.excluded?a.excluded.split(","):[],b=0,e=c.length;b<e;++b)c[b]&&(f[c[b]]=!0);a.items=[];c=LPProxy.getSiteModels();b=0;for(e=c.length;b<e;++b){var d=c[b];!f.hasOwnProperty(d.getID())&&(!d.hasGeneratedPassword()&&LPProxy.getDomain(d.getURL())===a.domain)&&a.items.push(d)}}a.text=[LPTools.createElement("span",null,Strings.translateString("LastPass detected a password change for")+" "),LPTools.createElement("span",
"bold",a.domain+"."),Strings.translateString("Please select which sites you wish to apply this change.")];a.handler=this.createDynamicHandler(function(a){LPRequest.makeRequest(LPProxy.changePasswords,{params:{password:this.data.newPassword,items:a},success:function(){Topics.get(Topics.SUCCESS).publish(Strings.translateString("%1 passwords were updated.",a.length))}})});VaultItemSelectDialog.prototype.open.call(this,a)}})();

(function(){LPPlatform.getBigIcons=function(a){var b=opendb();createDataTable(b);if(b){var d=function(b,c){a(0<c.rows.length&&null!==c.rows.item(0).data?c.rows.item(0).data:"")};if(g_indexeddb){var c={rows:{item:function(a){return this[a]},length:0}};b.transaction("LastPassData","readonly").objectStore("LastPassData").openCursor(IDBKeyRange.only(db_prepend(g_username_hash)+"_bigicons")).onsuccess=function(a){(a=a.target.result)?(c.rows[c.rows.length]=a.value,c.rows.length++,a["continue"]()):d(null,
c)}}else b.transaction(function(a){a.executeSql("SELECT * FROM LastPassData WHERE username_hash=? AND type=?",[db_prepend(g_username_hash),"bigicons"],d,function(a,b){console_log(b)})})}};LPPlatform.saveBigIcons=function(a){var b=opendb();createDataTable(b);b&&(g_indexeddb?b.transaction("LastPassData","readwrite").objectStore("LastPassData").put({username_hash:db_prepend(g_username_hash),type:"bigicons",data:a,usertype:db_prepend(g_username_hash)+"_bigicons"}):b.transaction(function(b){b.executeSql("REPLACE INTO LastPassData (username_hash, type, data) VALUES (?, ?, ?)",
[db_prepend(g_username_hash),"bigicons",a],function(){console_log("server.js : inserted")},function(a,b){console_log(b)})}))};LPPlatform.updateBigIcons=function(){};var e=function(a,b){for(var d in a){var c=b[d];c&&(c.group=a[d])}};LPPlatform.refreshGroupNames=function(a){a&&(e(a.sites,g_sites),e(a.notes,g_securenotes),e(a.applications,g_applications))}})();

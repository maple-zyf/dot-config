(function(){Topics.get(Topics.DIALOG_OPEN).subscribe(function(a){$("title").text(a.getTitle())});Topics.get(Topics.DIALOG_CLOSE).subscribe(function(){0===Dialog.prototype.getDialogCount()&&0===dialogs.getPendingCount()&&LPPlatform.closeTab()});Topics.get(Topics.REPROMPT).subscribe(function(a){dialogs.reprompt.open({successCallback:a})});Topics.get(Topics.CONFIRM).subscribe(function(a){dialogs.confirmation.open(a)});Topics.get(Topics.ITEM_SHARE).subscribe(function(a){LPTools.openShareDialog(a)});window.openDialog=
function(a){if(a){for(var c=[],b=1,d=arguments.length;b<d;++b)c.push(arguments[b]);LPPlatform.initialized()?(LPProxy.initializeModel(),dialogs[a].open.apply(dialogs[a],c),window.openDialog=function(){}):window.openDialog=function(){LPProxy.initializeModel();dialogs[a].open.apply(dialogs[a],c)}}};window.deleteItem=function(a,b){LPProxy.initializeModel();LPProxy.getModel(a,b).deleteItem()};var b=null;LPPlatform.addEventListener(document.body,"click",function(){LPTools.hideContextMenu(b);b=null});Topics.get(Topics.CONTEXT_MENU).subscribe(function(a,
c){b=LPTools.displayContextMenu(a,c)});Topics.get(Topics.CONTEXT_CLOSE).subscribe(function(){LPTools.hideContextMenu(b);b=null})})();LPPlatform.addEventListener(window,"unload",function(){Topics.get(Topics.CLEAR_DATA).publish()});LPPlatform.addEventListener(document,"DOMContentLoaded",function(){Notifications.initialize()});

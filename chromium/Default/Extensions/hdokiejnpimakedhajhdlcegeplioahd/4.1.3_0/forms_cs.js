function doc_get_form_equivalents(a){function c(a,d,f){if(!a)return[];var e=a.ownerDocument,g,j;f||(f=0);var k=[],l=[],n=[],h=a.children;if(!h||0==h.length)return[];for(g=0;g<h.length;g++)if(lp_in_array(h[g].tagName.toUpperCase(),["DIV","SECTION","HEADER"])&&lpIsVisible(h[g],!0)){var m=c(h[g],d,f+1);for(j=0;j<m.length;j++)l.push(m[j]);verbose_log(b("child div %s has %d forms ",LP_getname(h[g]),m.length))}else"FORM"==h[g].tagName.toUpperCase()?!is_search_form(e,h[g])&&popupfill_shoulddoform(e,h[g])&&
l.push(h[g]):"INPUT"==h[g].tagName.toUpperCase()&&popupfill_shoulddofield(e,h[g])&&(verbose_log(b("child input %s found in %s",LP_getname(h[g]),LP_getname(a))),n.push(h[g]));("DIV"==a.tagName||"FORM"==a.tagName)&&0<n.length?popupfill_shoulddoform(e,a)?(k.push(a),verbose_log(b("FOUND %d child forms and found inputs in this div %s, treating all together as one",l.length,LP_getname(a)))):verbose_log(b("FOUND child forms in this div %s but intentionally skipping it",0,LP_getname(a))):(k=l,verbose_log(b("FOUND %d child forms in this div %s",
k.length,LP_getname(a))));return k}a||(a=LP_derive_doc());if(!a||!a.body)return[];var b=sprintf;g_isie&&(init_LPfn()&&LPfn)&&(b=LPfn.sprintf);var f=/container|form|box|wrapper|youama-login-window|youama-register-window/i,d,e,p=!1,j=[],n=0,k=a.body.children,l=k.length;Checkpoint.assert(100>l,"document too complex, "+get_doc_location_href(a));100<l&&(l=100);if(LP_has_youama(a)&&(d=LP_get_youama_fields(a),d.login_form_container&&d.regis_form_container))return[d.login_form_container,d.regis_form_container];
for(d=0;d<l;d++)if(e=k[d].tagName.toUpperCase(),lp_in_array(e,["DIV","FORM","SECTION","HEADER"])){if(elt_is_formlike_container(k[d])){var m=c(k[d],f),n=n+m.length;for(e=0;e<m.length;e++)j.push(m[e])}}else"INPUT"==e&&(p=!0);p&&0==j.length&&j.push(a.body);verbose_log(b("Found %d form equivalents on this page",n));return j}
function elt_is_formlike_container(a){if(!a)return!1;var c=a.ownerDocument,b;LP_createXPathFromElement(c,a)||LP_pickFormName(c,a);if(!lpIsVisible(a,!0)||0>=a.children.length)return!1;var f=a.getElementsByTagName("input"),d=[];if(f){if(0>=f.length)return!1;var e=f.length;Checkpoint.assert(e<MAX_INPUTS_SOFT,"formlike container "+LP_getname(a)+" is too complex");e>MAX_INPUTS_SOFT&&(e=MAX_INPUTS_SOFT);for(b=0;b<e;b++)if(popupfill_shoulddofield(c,f[b])){d.push(f[b]);break}}return 0>=d.length?!1:0<d.length?
(verbose_log("detected mammaliaforme "+LP_getname(a)),!0):!1}var g_lp_form_num=1;
function LP_pickFormName(a,c){var b="none";if(null!=c&&(b=LP_getname(c,LP_GETNAME_FAVOR_ID_OVER_NAME),null==b||0>=b.length))if(null!=c.action&&"string"==typeof c.action&&0<=c.action.length||null!=c.className&&0<=c.className.length?(b=c.action,"string"!=typeof b&&(b=c.getAttribute("action")),b="FF"+b+c.className):b="none","FF"==b||"none"==b){var f=c.getAttribute("lpformnum");f||(f=g_lp_form_num++,c.setAttribute("lpformnum",f));b+="lpformnum"+f}return b}
function LP_getFormEquivalent(a,c){if(!c)return null;a||(a=c.ownerDocument);return!a?null:c.form?c.form:null};
